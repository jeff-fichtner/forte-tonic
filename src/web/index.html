<!DOCTYPE html>
<html>

<head>
    <!-- CSS Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Material Icons for proper icon display -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- External Styles -->
    <link rel="stylesheet" href="css/externalStyles.css">

    <!-- JavaScript Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" href="images/forte-favicon.png" type="image/png">

    <style>
        li.delete-lesson-icon,
        li.add-lesson-icon {
            cursor: pointer;
        }

        html {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: normal;
        }

        header {
            background-color: #2c3e50;
            color: white;
            padding: 0px;
            text-align: center;
        }

        .day-tabs {
            display: flex;
            justify-content: center;
            background: #ecf0f1;
            padding: 10px 0;
        }

        .tab {
            padding: 10px 20px;
            border: none;
            background: transparent;
            font-weight: bold;
            cursor: pointer;
            color: #2c3e50;
            transition: background 0.3s;
        }

        .tab:hover,
        .tab.active {
            background-color: #3498db;
            color: white;
            border-radius: 4px;
        }

        #schedule-content {
            padding: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            overflow-x: auto;
        }

        th,
        td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #2980b9;
            color: white;
        }

        /* Tabs */
        .tabs .indicator {
            background-color: #2b68a4 !important;
        }

        .tabs .tab a.active {
            color: #2b68a4 !important;
            background-color: rgba(43, 104, 164, 0.1) !important;
        }

        .tabs .tab a:hover {
            color: #2b68a4 !important;
        }

        /* Navbar links */
        .nav-wrapper .right>li>a {
            color: white;
        }

        .nav-wrapper .right>li>a:hover,
        .nav-wrapper .right>li>a:focus,
        .nav-wrapper .right>li>a.active {
            background-color: rgba(183, 187, 191, 0.2) !important;
            color: white !important;
        }

        /* Version Display - Only for staging */
        #version-display {
            position: fixed;
            top: 10px;
            right: 15px;
            background: rgba(52, 152, 219, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 11px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(5px);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #version-display:hover {
            background: rgba(52, 152, 219, 1);
            transform: scale(1.05);
        }

        #version-display .version-number {
            display: block;
            font-size: 12px;
        }

        #version-display .version-details {
            display: block;
            font-size: 9px;
            opacity: 0.8;
            margin-top: 2px;
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            #version-display {
                top: 5px;
                right: 5px;
                padding: 6px 8px;
                font-size: 10px;
            }

            #version-display .version-number {
                font-size: 11px;
            }

            #version-display .version-details {
                font-size: 8px;
            }
        }

        /* Ripple (waves) */
        .waves-effect .waves-ripple {
            background-color: rgba(43, 104, 164, 0.5) !important;
        }

        /* Collections, dropdowns, etc. */
        .collection .collection-item.active,
        .dropdown-content li.active>a,
        .collapsible-header.active {
            background-color: rgba(43, 104, 164, 0.2) !important;
            color: #2b68a4 !important;
        }

        /* Focus styles */
        input:focus,
        textarea:focus,
        select:focus {
            border-bottom: 1px solid #2b68a4 !important;
            box-shadow: 0 1px 0 0 #2b68a4 !important;
        }

        /* Buttons */
        .btn:focus,
        .btn:hover {
            background-color: #3a7953 !important;
        }

        #page-loading-container {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            padding-top: 20px;
        }

        /* change the radio button when checked */
        input[type="radio"]:checked+span::before {
            border: 2px solid #3a7953;
            /* circle border */
            background-color: #3a7953;
            /* filled dot */
        }

        #spinner-logo {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            /* adjust size as needed */
            height: 80px;
            z-index: 2;
        }

        #loading-container {
            position: relative;
            width: 200px;
            /* adjust to match spinner size */
            height: 200px;
            margin: 0 auto;
        }

        .preloader-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
            z-index: 1;
        }

        /* Login Button Styling */
        .nav-wrapper .btn.modal-trigger {
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .nav-wrapper .btn.modal-trigger:hover {
            background-color: rgba(255, 255, 255, 0.2) !important;
            border-color: rgba(255, 255, 255, 0.5) !important;
        }

        .nav-wrapper .btn.modal-trigger i.material-icons {
            margin-right: 4px;
            vertical-align: middle;
        }

        /* Login Modal Styling */
        #login-modal {
            max-width: 400px;
        }

        #login-modal .modal-content h4 {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        #modal-access-code {
            font-size: 1.1rem !important;
        }

        #modal-access-code:focus {
            border-bottom: 1px solid #2b68a4 !important;
            box-shadow: 0 1px 0 0 #2b68a4 !important;
        }

        /* Mobile responsiveness for login button */
        @media (max-width: 992px) {
            .nav-wrapper>div:last-child {
                flex-direction: column;
                align-items: flex-end;
            }

            #login-button-container {
                margin-right: 10px;
            }

            #nav-mobile {
                margin-top: 5px !important;
                margin-bottom: 5px !important;
            }
        }

        @media (max-width: 768px) {
            .nav-wrapper>div:last-child {
                position: static !important;
                width: 100%;
                display: flex;
                justify-content: center;
                margin-top: 10px;
            }

            #login-button-container,
            #nav-mobile {
                margin: 0 5px !important;
            }
        }

        @media (max-width: 600px) {
            .nav-wrapper .btn.modal-trigger {
                padding: 0 12px !important;
                font-size: 0.9rem !important;
            }
        }

        /* White background for content below navbar */
        .container {
            background-color: white;
            min-height: calc(100vh - 200px);
            border-radius: 0;
        }
    </style>

    <title>Forte - Marin Country Day School</title>


    <link rel="icon"
        href="https://resources.finalsite.net/images/f_auto,q_auto/v1715011148/marin/eryowt6uhsakpogytm7q/favicon-marin-country-day-school.ico">

</head>

<body style="background-color: #fefefe">
    <!-- Version Display (only shown in staging) -->
    <div id="version-display" style="display: none;">
        <span class="version-number">v<span id="version-number-text">-</span></span>
        <span class="version-details">
            <span id="version-env">-</span> | <span id="version-commit">-</span>
        </span>
    </div>

    <header id="fsHeader" class="fsHeader">
        <div class=" fsBanner fsStyleAutoclear" id="fsEl_10947" data-settings-id="10944" data-use-new="true">

            <div class="fsElement fsLayout fsTwoColumnLayout main-header fsStyleAutoclear" id="fsEl_11029"
                data-use-new="true">

                <div class=" fsDiv fsStyleColumn fsStyleColumn-1 fsStyleAutoclear" id="fsEl_11030">

                    <div class="fsElement fsResourceElement fsSingleItem header-logo" id="fsEl_11032"
                        data-use-new="true" data-source-element-id="11032" data-source-page-id="1204">

                        <div class="fsElementContent">
                            <article class="fsResource fsResourceTypeImage">
                                <figure><a class="fsResourceLink" data-permitted-user="true" data-preview="false"
                                        data-resource-title="mcds-logo-full.svg" data-resource-type="Image">
                                        <picture><img alt="Marin Country Day School"
                                                data-aspect-ratio="0.11568938193343899"
                                                data-image-sizes="[{%22url%22:%22https://resources.finalsite.net/images/v1715711496/marin/klhjhjmkutqs2kvk66sq/mcds-logo-full.svg%22,%22width%22:631}]"
                                                data-permitted-user="true" data-resource-title="mcds-logo-full.svg"
                                                data-resource-uuid="d6d2de06-a422-40a2-8114-e03827148b08" style=""
                                                loading="lazy"
                                                src="https://resources.finalsite.net/images/v1715711496/marin/klhjhjmkutqs2kvk66sq/mcds-logo-full.svg">
                                        </picture>
                                    </a></figure>
                            </article>
                        </div>


                    </div>
                    <div class="fsElement fsResourceElement fsSingleItem header-logo colored" id="fsEl_11049"
                        data-use-new="true" data-source-element-id="11049" data-source-page-id="1204" style="">

                        <div class="fsElementContent">
                            <article class="fsResource fsResourceTypeImage">
                                <figure><a class="fsResourceLink" data-permitted-user="true" data-preview="false"
                                        data-resource-title="mcds-logo-full-colored.svg" data-resource-type="Image">
                                        <picture><img alt="Marin Country Day School"
                                                data-aspect-ratio="0.11568938193343899"
                                                data-image-sizes="[{%22url%22:%22https://resources.finalsite.net/images/v1715881915/marin/idovufuuscgrkodiarf0/mcds-logo-full-colored.svg%22,%22width%22:631}]"
                                                data-permitted-user="true"
                                                data-resource-title="mcds-logo-full-colored.svg"
                                                data-resource-uuid="d4e50605-a693-46a6-8d6b-5a01091f26e1" style=""
                                                loading="lazy"
                                                src="https://resources.finalsite.net/images/v1715881915/marin/idovufuuscgrkodiarf0/mcds-logo-full-colored.svg">
                                        </picture>
                                    </a></figure>
                            </article>
                        </div>

                    </div>

                </div>
            </div>
        </div>

    </header>

    <!-- Navbar -->
    <nav>
        <div class="nav-wrapper" style="background-color: #3a7953; position: relative;">
            <h1
                style="display: inline-block; margin-left: 60px; vertical-align: middle; color: #fefefe; font-size: 1.5rem;">
                <b>Forte</b>
            </h1>

            <div style="position: absolute; right: 20px; top: 0; height: 100%; display: flex; align-items: center;">
                <!-- Login Button - initially hidden -->
                <div id="login-button-container" hidden>
                    <a class="btn waves-effect waves-light modal-trigger" href="#login-modal"
                        style="background-color: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); margin: 0; height: 36px; line-height: 36px; display: flex; align-items: center;">
                        <i class="material-icons left"
                            style="font-size: 18px; margin-right: 6px; vertical-align: middle;">vpn_key</i>Login
                    </a>
                </div>

                <!-- Navigation Links - initially hidden -->
                <ul id="nav-mobile" class="right"
                    style="margin: 0 0 0 15px; height: 100%; display: none; align-items: center;">
                    <li><a class="section-link" data-section="admin">Admin</a></li>
                    <li><a class="section-link" data-section="instructor">Instructors</a></li>
                    <li><a class="section-link" data-section="parent">Families</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container" style="margin-top: 20px;">

        <!-- Loading Spinner -->
        <div id="page-loading-container">
            <img src="images/forte-favicon.png" alt="Logo" id="spinner-logo">

            <div id="loading" class="preloader-wrapper big active">
                <div class="spinner-layer spinner-blue">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="gap-patch">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>

                <div class="spinner-layer spinner-red">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="gap-patch">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>

                <div class="spinner-layer spinner-yellow">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="gap-patch">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>

                <div class="spinner-layer spinner-green">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="gap-patch">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>

        <div hidden id="page-error-content" style="padding-bottom: 40px;">
            <div class="card red lighten-1">
                <div class="card-content white-text">
                    <span class="card-title">There was an error loading the page.</span>
                    <p id="page-error-content-message"></p>
                </div>
            </div>
        </div>

        <div hidden id="page-content" style="padding-bottom: 40px;">
            <ul hidden class="tabs">

                <li hidden class="tab col s3 admin-tab"><a href="#admin-master-schedule"
                        style="color: #2b68a4"><b>Master
                            Schedule</b></a></li>
                <li hidden class="tab col s3 admin-tab"><a href="#admin-registration"
                        style="color: #2b68a4"><b>Registration</b></a></li>

                <li hidden class="tab col s3 instructor-tab"><a href="#instructor-weekly-schedule"
                        style="color: #2b68a4"><b>Weekly Schedule</b></a></li>
                <li hidden class="tab col s3 admin-tab instructor-tab"><a href="#instructor-forte-directory"
                        style="color: #2b68a4"><b>Forte Directory</b></a></li>
                <li hidden class="tab col s3 instructor-tab"><a href="#instructor-paylocity"
                        style="color: #2b68a4"><b>Paylocity</b></a></li>

                <li hidden class="tab col s3 parent-tab"><a href="#parent-weekly-schedule"
                        style="color: #2b68a4"><b>Weekly
                            Schedule</b></a></li>
                <li hidden class="tab col s3 parent-tab"><a href="#parent-registration"
                        style="color: #2b68a4"><b>Registration</b></a></li>
                <li hidden class="tab col s3 parent-tab"><a href="#parent-contact-us" style="color: #2b68a4"><b>Contact
                            Us</b></a></li>

            </ul>

            <!-- Admin Section -->

            <div hidden class="tab-content" id="admin-master-schedule" class="col s12"
                style="background-color: #fefefe">
                <div class="card">
                    <div class="card-content">
                        <span class="card-title" style="color: #2b68a4"><b>Currently Enrolled Lessons</b></span>

                        <div class="row">
                            <div class="input-field col s4">
                                <select multiple id="master-schedule-instructor-filter-select">
                                    <option value="" disabled> Choose instructor filter</option>
                                </select>
                                <label>Instructors</label>
                            </div>

                            <div class="input-field col s4">
                                <select multiple id="master-schedule-day-filter-select">
                                    <option value="" disabled> Choose weekday filter</option>
                                </select>
                                <label>Weekday</label>
                            </div>

                            <div class="input-field col s4">
                                <select multiple id="master-schedule-grade-filter-select">
                                    <option value="" disabled> Choose grade level filter</option>
                                </select>
                                <label>Grade Level</label>
                            </div>
                        </div>

                        <!-- <p hidden id="master-schedule-no-lessons-message">Not enrolled in any lessons.</p> -->
                        <table hidden id="master-schedule-table">
                        </table>
                    </div>
                </div>
            </div>

            <div hidden class="tab-content" id="admin-registration" class="col s12" style="background-color: #fefefe; ">

                <div hidden id="admin-registration-loading-container">
                    <div class="loading preloader-wrapper big active center-align">
                        <div class="spinner-layer spinner-blue">
                            <div class="circle-clipper left">
                                <div class="circle"></div>
                            </div>
                            <div class="gap-patch">
                                <div class="circle"></div>
                            </div>
                            <div class="circle-clipper right">
                                <div class="circle"></div>
                            </div>
                        </div>

                        <div class="spinner-layer spinner-red">
                            <div class="circle-clipper left">
                                <div class="circle"></div>
                            </div>
                            <div class="gap-patch">
                                <div class="circle"></div>
                            </div>
                            <div class="circle-clipper right">
                                <div class="circle"></div>
                            </div>
                        </div>

                        <div class="spinner-layer spinner-yellow">
                            <div class="circle-clipper left">
                                <div class="circle"></div>
                            </div>
                            <div class="gap-patch">
                                <div class="circle"></div>
                            </div>
                            <div class="circle-clipper right">
                                <div class="circle"></div>
                            </div>
                        </div>

                        <div class="spinner-layer spinner-green">
                            <div class="circle-clipper left">
                                <div class="circle"></div>
                            </div>
                            <div class="gap-patch">
                                <div class="circle"></div>
                            </div>
                            <div class="circle-clipper right">
                                <div class="circle"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="admin-registration-container">
                    <div id="admin-registration-form">

                        <!-- Students -->
                        <div class="input-field col s12">
                            <i class="material-icons prefix">account_circle</i>
                            <input type="text" id="student-autocomplete-input" class="autocomplete">
                            <label for="student-autocomplete-input">Student</label>
                        </div>

                        <div hidden id="student-searched-options-container">

                            <!-- Transportation Type -->
                            <p>Transportation Type</p>
                            <p>
                                <label>
                                    <input name="transportation-type" type="radio" value="pickup" checked />
                                    <span>Pickup</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input name="transportation-type" type="radio" value="bus" />
                                    <span>Late Bus</span>
                                </label>
                            </p>

                        </div>

                        <div class="input-field">
                            <select id="registration-type-select">
                            </select>
                            <label for="registration-type-select">Registration Type</label>
                        </div>

                        <div id="private-registration-container" hidden>

                            <!-- Instructor -->
                            <div class="input-field">
                                <select id="instructor-select">
                                </select>
                                <label for="instructor-select">Instructor</label>
                            </div>

                            <div id="instructor-selected-info-container" hidden>

                                <!-- Day -->
                                <div class="input-field" id="instructor-day-select-options-container">
                                    <select id="day-select">
                                    </select>
                                    <label for="day-select">Day</label>
                                </div>

                                <div id="instructor-day-selected-info-container" hidden>

                                    <!-- Start Time -->
                                    <div class="input-field" id="instructor-day-start-time-container">
                                        <select id="start-time-select">
                                        </select>
                                        <label for="start-time-select">Start Time</label>
                                    </div>

                                    <!-- Length -->
                                    <div id="lesson-length-container">
                                        <p>Lesson Length</p>
                                        <p>
                                            <label>
                                                <input name="lesson-length" type="radio" value="30" checked />
                                                <span>30 Minutes</span>
                                            </label>
                                        </p>
                                        <p>
                                            <label>
                                                <input name="lesson-length" type="radio" value="45" />
                                                <span>45 Minutes</span>
                                            </label>
                                        </p>
                                        <p>
                                            <label>
                                                <input name="lesson-length" type="radio" value="60" />
                                                <span>60 Minutes</span>
                                            </label>
                                        </p>
                                    </div>

                                    <!-- Instrument -->
                                    <div class="input-field" id="instrument-select-options-container">
                                        <select id="instrument-select">
                                        </select>
                                        <label for="instrument-select">Instrument</label>
                                    </div>

                                </div>

                            </div>

                        </div>

                        <div id="group-registration-container" hidden>

                            <div class="input-field">
                                <select id="class-select">
                                </select>
                                <label for="class-select">Classes</label>
                            </div>

                        </div>

                        <!-- Save Button -->
                        <div class="center-align">
                            <button class="btn waves-effect waves-light" type="submit"
                                id="create-registration-submit-btn"
                                style="background-color: #2b68a4"><b>Create</b></button>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Instructor Section -->
            <div hidden class="tab-content" id="instructor-weekly-schedule" class="col s12"
                style="background-color: #fefefe">
                <div id="instructor-weekly-schedule-tables">
                </div>
            </div>
            <div hidden class="tab-content" id="instructor-forte-directory" class="col s12"
                style="background-color: #fefefe">
                <table hidden id="employee-directory-table">
                </table>
            </div>
            <div hidden class="tab-content" id="instructor-paylocity" class="col s12" style="background-color: #fefefe">
                <a href="https://access.paylocity.com/" target="_blank" class="btn waves-effect waves-light"
                    style="background-color: #2b68a4">
                    <b>Log Hours</b>
                </a>
            </div>

            <!-- Parent Section -->
            <div hidden class="tab-content" id="parent-weekly-schedule" class="col s12"
                style="background-color: #fefefe">
                <div id="parent-weekly-schedule-tables">
                </div>
            </div>
            <div hidden class="tab-content" id="parent-registration" class="col s12" style="background-color: #fefefe">

                <!-- Student Selection (conditionally shown) -->
                <div id="parent-student-selection-section" class="student-selection-section" style="margin-bottom: 25px; padding: 20px; background: #f9f9f9; border-radius: 8px; display: none;">
                    <h6 style="margin: 0 0 15px 0; color: #2b68a4;"><b>Select Student</b></h6>
                    <div class="input-field">
                        <select id="parent-student-select">
                            <option value="">Select Student</option>
                            <!-- Students will be populated programmatically -->
                        </select>
                        <label for="parent-student-select">Student</label>
                    </div>
                </div>

                <!-- Registration Type Selection -->
                <div class="registration-type-section" style="margin-bottom: 25px; padding: 20px; background: #f9f9f9; border-radius: 8px;">
                    <h6 style="margin: 0 0 15px 0; color: #2b68a4;"><b>Registration Type</b></h6>
                    <div class="input-field">
                        <select id="parent-registration-type-select">
                            <option value="">Select Registration Type</option>
                            <option value="private">Private Lessons</option>
                            <option value="public">Group Classes</option>
                        </select>
                        <label for="parent-registration-type-select">Registration Type</label>
                    </div>
                </div>

                <!-- Private Registration Container (hidden by default) -->
                <div id="parent-private-registration-container" style="display: none;">

                <!-- Hybrid Approach: Smart Chips + Interactive Time Slot Grid for Private Lessons -->

                <!-- Smart Filter Chips Section -->
                <div class="availability-filters"
                    style="margin-bottom: 25px; padding: 20px; background: #f9f9f9; border-radius: 8px;">
                    <h6 style="margin: 0 0 15px 0; color: #2b68a4;"><b>Filter Available Options</b></h6>

                    <div class="filter-section" style="margin: 15px 0;">
                        <label style="display: block; margin-bottom: 8px; font-weight: bold;">Instructors:</label>
                        <div class="chip-container" id="instructor-chips-container"
                            style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <!-- Instructor chips will be populated programmatically -->
                        </div>
                    </div>

                    <div class="filter-section" style="margin: 15px 0;">
                        <label style="display: block; margin-bottom: 8px; font-weight: bold;">Preferred Day:</label>
                        <div class="chip-container" id="day-chips-container" style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <!-- Day chips will be populated programmatically -->
                        </div>
                    </div>

                    <div class="filter-section" style="margin: 15px 0;">
                        <label style="display: block; margin-bottom: 8px; font-weight: bold;">Lesson Length:</label>
                        <div class="chip-container" id="length-chips-container" style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <!-- Length chips will be populated programmatically -->
                        </div>
                    </div>

                    <div class="filter-section" style="margin: 15px 0;">
                        <label style="display: block; margin-bottom: 8px; font-weight: bold;">Instrument:</label>
                        <div class="chip-container" id="instrument-chips-container" style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <!-- Instrument chips will be populated programmatically -->
                        </div>
                    </div>
                </div>

                <!-- Interactive Time Slot Grid Section -->
                <div class="instructor-timeslot-grid" id="admin-instructor-timeslot-grid">
                    <div class="section-header" style="margin-bottom: 15px;">
                        <h6 style="margin: 0; color: #2b68a4;"><b>Available Time Slots</b></h6>
                        <p style="margin: 5px 0 0 0; color: #666; font-size: 14px;">Click on any available slot to
                            select your lesson time</p>
                    </div>

                    <div class="instructor-card"
                        style="border: 2px solid #ddd; margin: 15px 0; padding: 20px; border-radius: 8px; transition: border-color 0.3s;">
                        <h6 style="margin: 0 0 15px 0; color: #2b68a4; display: flex; align-items: center;"><b>Jesse
                                Brewster - Piano</b> <span
                                style="margin-left: 10px; font-size: 12px; background: #e8f5e8; color: #4caf50; padding: 4px 8px; border-radius: 12px;">5
                                available</span></h6>
                        <div class="timeslot-grid" style="display: flex; flex-wrap: wrap; gap: 10px;">
                            <div class="timeslot available" data-instructor-id="instructor-1" data-day="monday"
                                data-time="14:00" data-length="30" data-instrument="Piano"
                                style="border: 2px solid #4caf50; background: #e8f5e8; padding: 12px 16px; border-radius: 8px; cursor: pointer; min-width: 110px; text-align: center; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="font-weight: bold; color: #2e7d32; font-size: 14px;">Monday</div>
                                <div style="font-weight: bold; color: #2e7d32; font-size: 16px;">2:00 PM</div>
                                <div style="font-size: 12px; color: #666;">30min • Piano</div>
                            </div>
                            <div class="timeslot available" data-instructor-id="instructor-1" data-day="monday"
                                data-time="14:30" data-length="45" data-instrument="Piano"
                                style="border: 2px solid #4caf50; background: #e8f5e8; padding: 12px 16px; border-radius: 8px; cursor: pointer; min-width: 110px; text-align: center; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="font-weight: bold; color: #2e7d32; font-size: 14px;">Monday</div>
                                <div style="font-weight: bold; color: #2e7d32; font-size: 16px;">2:30 PM</div>
                                <div style="font-size: 12px; color: #666;">45min • Piano</div>
                            </div>
                            <div class="timeslot unavailable"
                                style="border: 2px solid #f44336; background: #ffebee; padding: 12px 16px; border-radius: 8px; cursor: not-allowed; min-width: 110px; text-align: center; opacity: 0.6;">
                                <div style="font-weight: bold; color: #c62828; font-size: 14px;">Monday</div>
                                <div style="font-weight: bold; color: #c62828; font-size: 16px;">3:00 PM</div>
                                <div style="font-size: 12px; color: #666;">30min • Piano</div>
                                <div style="font-size: 10px; color: #f44336; margin-top: 2px;">Booked</div>
                            </div>
                            <div class="timeslot available" data-instructor-id="instructor-1" data-day="tuesday"
                                data-time="13:15" data-length="45" data-instrument="Piano"
                                style="border: 2px solid #4caf50; background: #e8f5e8; padding: 12px 16px; border-radius: 8px; cursor: pointer; min-width: 110px; text-align: center; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="font-weight: bold; color: #2e7d32; font-size: 14px;">Tuesday</div>
                                <div style="font-weight: bold; color: #2e7d32; font-size: 16px;">1:15 PM</div>
                                <div style="font-size: 12px; color: #666;">45min • Piano</div>
                            </div>
                            <div class="timeslot available" data-instructor-id="instructor-1" data-day="wednesday"
                                data-time="15:30" data-length="30" data-instrument="Piano"
                                style="border: 2px solid #4caf50; background: #e8f5e8; padding: 12px 16px; border-radius: 8px; cursor: pointer; min-width: 110px; text-align: center; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="font-weight: bold; color: #2e7d32; font-size: 14px;">Wednesday</div>
                                <div style="font-weight: bold; color: #2e7d32; font-size: 16px;">3:30 PM</div>
                                <div style="font-size: 12px; color: #666;">30min • Piano</div>
                            </div>
                        </div>
                    </div>

                    <div class="instructor-card"
                        style="border: 2px solid #ddd; margin: 15px 0; padding: 20px; border-radius: 8px; transition: border-color 0.3s;">
                        <h6 style="margin: 0 0 15px 0; color: #2b68a4; display: flex; align-items: center;"><b>Cesar
                                Cancino - Guitar</b> <span
                                style="margin-left: 10px; font-size: 12px; background: #fff3e0; color: #ff9800; padding: 4px 8px; border-radius: 12px;">2
                                available</span></h6>
                        <div class="timeslot-grid" style="display: flex; flex-wrap: wrap; gap: 10px;">
                            <div class="timeslot available" data-instructor-id="instructor-2" data-day="tuesday"
                                data-time="13:30" data-length="30"
                                style="border: 2px solid #4caf50; background: #e8f5e8; padding: 12px 16px; border-radius: 8px; cursor: pointer; min-width: 110px; text-align: center; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="font-weight: bold; color: #2e7d32; font-size: 14px;">Tuesday</div>
                                <div style="font-weight: bold; color: #2e7d32; font-size: 16px;">1:30 PM</div>
                                <div style="font-size: 12px; color: #666;">30min</div>
                            </div>
                            <div class="timeslot limited" data-instructor-id="instructor-2" data-day="wednesday"
                                data-time="16:00" data-length="45"
                                style="border: 2px solid #ff9800; background: #fff3e0; padding: 12px 16px; border-radius: 8px; cursor: pointer; min-width: 110px; text-align: center; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="font-weight: bold; color: #ef6c00; font-size: 14px;">Wednesday</div>
                                <div style="font-weight: bold; color: #ef6c00; font-size: 16px;">4:00 PM</div>
                                <div style="font-size: 12px; color: #666;">45min</div>
                                <div style="font-size: 10px; color: #ff9800; margin-top: 2px;">Last slot</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Selected Lesson Display - Fixed to bottom -->
                <div id="admin-selected-lesson-display"
                    style="position: fixed; bottom: 0; left: 0; right: 0; z-index: 1000; padding: 20px; background: #e3f2fd; border-top: 3px solid #2196f3; box-shadow: 0 -4px 12px rgba(0,0,0,0.15); display: none; pointer-events: none;">
                    <div style="max-width: 1200px; margin: 0 auto; pointer-events: auto;">
                        <h6 style="margin: 0 0 10px 0; color: #1976d2;"><b>Selected Lesson</b></h6>
                        <div id="admin-selected-lesson-details" style="font-size: 16px; color: #333; margin-bottom: 15px;"></div>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <button id="parent-confirm-registration-btn" class="btn waves-effect waves-light" 
                                    style="background-color: #2b68a4;">
                                <i class="material-icons left">check</i>Create Registration
                            </button>
                            <button id="parent-clear-selection-btn" class="btn-flat waves-effect" style="color: #666;">
                                Clear Selection
                            </button>
                        </div>
                    </div>
                </div>

                </div> <!-- End of parent-private-registration-container -->

                <!-- Group Registration Container (hidden by default) -->
                <div id="parent-group-registration-container" style="display: none;">
                    <div class="group-registration-section" style="margin-bottom: 25px; padding: 20px; background: #f9f9f9; border-radius: 8px;">
                        <h6 style="margin: 0 0 15px 0; color: #2b68a4;"><b>Select Group Class</b></h6>
                        
                        <div class="input-field">
                            <select id="parent-class-select">
                                <!-- Classes will be populated programmatically -->
                            </select>
                            <label for="parent-class-select">Available Classes</label>
                        </div>

                        <!-- Create Button -->
                        <div class="center-align" style="margin-top: 20px;">
                            <button class="btn waves-effect waves-light" type="button" 
                                    id="parent-create-group-registration-btn"
                                    style="background-color: #2b68a4;">
                                <i class="material-icons left">group_add</i>
                                <b>Register for Class</b>
                            </button>
                        </div>
                    </div>
                </div>

            </div>
            <div hidden class="tab-content" id="parent-contact-us" class="col s12" style="background-color: #fefefe">
                <table id="parent-directory-table">
                </table>
            </div>

        </div>
    </div>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <h4 style="color: #2b68a4; margin-bottom: 20px;">
                <i class="material-icons" style="vertical-align: middle;">vpn_key</i>
                Access Code Required
            </h4>
            <p style="color: #666; margin-bottom: 30px;">
                Please enter the last 4 digits of the mobile phone number you registered with Veracross.
            </p>

            <div class="input-field">
                <i class="material-icons prefix">lock</i>
                <input id="modal-access-code" type="text" class="validate" maxlength="6" pattern="[0-9]{4,6}"
                    style="font-family: 'Courier New', monospace; letter-spacing: 2px; text-align: left;">
                <label for="modal-access-code">Access Code</label>
                <span class="helper-text" data-error="Please enter" data-success="Valid format"></span>
            </div>
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-close waves-effect waves-light btn-flat"
                style="color: #666; margin-right: 10px;">Cancel</a>
            <a href="#!" id="login-submit-btn" class="waves-effect waves-light btn" style="background-color: #2b68a4;">
                <i class="material-icons left">login</i>Login
            </a>
        </div>
    </div>

    <!-- Modern ES Module Loading -->
    <script type="module" src="js/main.js"></script>

</body>

</html>